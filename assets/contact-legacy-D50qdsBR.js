System.register(["./anime.esm-legacy-BosNHZUj.js","./main-page-legacy-ErX8Oy9e.js","./index-legacy-B5pnv-Eb.js","./scrollDetection-legacy-BLTuatsx.js"],function(e,t){"use strict";return{setters:[null,null,null,null],execute:function(){document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("contact-form"),t=document.getElementById("form-success");e?e.addEventListener("submit",async function(n){n.preventDefault();const a=new FormData(e),r=e.querySelector('button[type="submit"]'),i=a.get("name"),s=a.get("email"),o=a.get("message");if(!i||i.trim().length<2)alert("Please enter your name");else if(s&&s.includes("@"))if(!o||o.trim().length<10)alert("Please enter a message (at least 10 characters)");else{r&&(r.disabled=!0,r.textContent="Sending...");try{const n=new AbortController,r=setTimeout(()=>n.abort(),3e4),i=await fetch(e.action,{method:"POST",body:a,headers:{Accept:"application/json"},signal:n.signal});if(clearTimeout(r),!i.ok){let e="Failed to send message";const t=i.headers.get("content-type");if(t&&t.includes("application/json"))try{const t=await i.json();t.error?e=t.error:t.errors&&(e=t.errors.join(", "))}catch(c){}throw new Error(e)}{const n=i.headers.get("content-type");let a;if(n&&n.includes("application/json"))try{if(a=await i.json(),!1===a.ok)throw new Error("Formspree rejected the submission")}catch(c){}else console.warn("Non-JSON response from Formspree. Content-Type:",n),await i.text();e.style.display="none",t?t.style.display="block":alert("Thank you! Your message has been sent.\n\nNote: If you don't receive an email, check:\n1. Your spam folder\n2. Formspree dashboard\n3. That the form is activated"),e.reset()}}catch(l){let e="Sorry, there was an error sending your message. ";"AbortError"===l.name?e+="The request timed out. Please check your internet connection and try again.":l.message.includes("Failed to fetch")?e+="Unable to connect to the server. Please check your internet connection.":l.message&&(e+=l.message),e+="\n\nYou can also email directly to dev@thomasjbutler.me",alert(e)}finally{r&&(r.disabled=!1,r.innerHTML='<i class="fas fa-envelope"></i> Send Message')}}else alert("Please enter a valid email")}):console.warn("Contact form not found on page")}),document.addEventListener("DOMContentLoaded",function(){if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const e=new IntersectionObserver(function(e){e.forEach(e=>{e.isIntersecting?e.target.classList.add("in-view"):e.target.classList.remove("in-view")})},{root:null,rootMargin:"0px",threshold:.1}),t=document.querySelector(".contact-info"),n=document.querySelector("#contact-form");t&&e.observe(t),n&&e.observe(n),anime({targets:".contact-info h2, .contact-form-wrapper h2",opacity:[0,1],translateY:[30,0],duration:800,easing:"cubicBezier(0.4, 0, 0.2, 1)",delay:200}),anime({targets:".info-section",opacity:[0,1],translateY:[20,0],duration:600,easing:"cubicBezier(0.4, 0, 0.2, 1)",delay:anime.stagger(100,{start:400})}),anime({targets:".availability-list li",opacity:[0,1],translateX:[-20,0],duration:500,easing:"cubicBezier(0.4, 0, 0.2, 1)",delay:anime.stagger(80,{start:600})}),anime({targets:".form-group",opacity:[0,1],translateY:[15,0],duration:500,easing:"cubicBezier(0.4, 0, 0.2, 1)",delay:anime.stagger(60,{start:500})}),anime({targets:".btn-submit-modern, .coffee-button",opacity:[0,1],scale:[.95,1],duration:600,easing:"cubicBezier(0.68, -0.55, 0.265, 1.55)",delay:800}),function(){const e=document.querySelector(".coffee-button");e&&(e.addEventListener("mouseenter",function(){anime({targets:this,scale:1.05,duration:300,easing:"cubicBezier(0.4, 0, 0.2, 1)"})}),e.addEventListener("mouseleave",function(){anime({targets:this,scale:1,duration:300,easing:"cubicBezier(0.4, 0, 0.2, 1)"})}));const t=document.querySelector(".btn-submit-modern");t&&(t.addEventListener("mouseenter",function(){anime({targets:this,scale:1.02,duration:300,easing:"cubicBezier(0.4, 0, 0.2, 1)"})}),t.addEventListener("mouseleave",function(){anime({targets:this,scale:1,duration:300,easing:"cubicBezier(0.4, 0, 0.2, 1)"})})),document.querySelectorAll(".availability-list li").forEach(e=>{e.addEventListener("mouseenter",function(){anime({targets:this.querySelector("i"),scale:[1,1.2],duration:300,easing:"cubicBezier(0.4, 0, 0.2, 1)"})}),e.addEventListener("mouseleave",function(){anime({targets:this.querySelector("i"),scale:1,duration:300,easing:"cubicBezier(0.4, 0, 0.2, 1)"})})})}(),document.querySelectorAll(".form-group input, .form-group textarea").forEach(e=>{e.addEventListener("focus",function(){const e=this.closest(".form-group");anime({targets:e,scale:[1,1.01],duration:300,easing:"cubicBezier(0.4, 0, 0.2, 1)"});const t=e.querySelector("label");t&&!this.value&&anime({targets:t,translateY:[-10,-25],scale:[1,.85],duration:300,easing:"cubicBezier(0.4, 0, 0.2, 1)"})}),e.addEventListener("blur",function(){const e=this.closest(".form-group");anime({targets:e,scale:1,duration:300,easing:"cubicBezier(0.4, 0, 0.2, 1)"});const t=e.querySelector("label");t&&!this.value&&anime({targets:t,translateY:0,scale:1,duration:300,easing:"cubicBezier(0.4, 0, 0.2, 1)"})})})});const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&!e.target.classList.contains("animated")&&(e.target.classList.add("animated"),anime({targets:e.target,opacity:[0,1],translateY:[20,0],duration:800,easing:"cubicBezier(0.4, 0, 0.2, 1)"}))})},{threshold:.5,rootMargin:"0px 0px -100px 0px"});document.querySelectorAll(".animate-on-scroll").forEach(t=>{e.observe(t)})}}});
