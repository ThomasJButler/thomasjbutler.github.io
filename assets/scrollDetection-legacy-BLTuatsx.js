System.register([],function(t,e){"use strict";return{execute:function(){class e{constructor(t={}){this.headerElement=null,this.backToTopElement=null,this.throttleTimer=null,this.isInitialized=!1,this.options={headerSelector:"header",backToTopSelector:"#back-to-top",showThreshold:100,hideThreshold:200,backToTopThreshold:300,throttleMs:16,...t},this.state={isScrollingDown:!1,isHeaderHidden:!1,isBackToTopVisible:!1,lastScrollY:0},this.handleScroll=this.handleScroll.bind(this),this.handleBackToTopClick=this.handleBackToTopClick.bind(this),this.createBackToTopButton=this.createBackToTopButton.bind(this)}init(){this.isInitialized||("loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>this.setupElements()):this.setupElements(),this.isInitialized=!0)}setupElements(){this.headerElement=document.querySelector(this.options.headerSelector),this.headerElement?(this.backToTopElement=document.querySelector(this.options.backToTopSelector),this.backToTopElement||this.createBackToTopButton(),this.state.lastScrollY=window.scrollY,window.addEventListener("scroll",this.handleScroll,{passive:!0}),this.updateHeaderVisibility(),this.updateBackToTopVisibility()):console.warn(`ScrollDetection: Header element '${this.options.headerSelector}' not found`)}createBackToTopButton(){const t=document.createElement("button");t.id="back-to-top",t.className="back-to-top-button",t.setAttribute("aria-label","Back to top"),t.setAttribute("title","Back to top"),t.innerHTML='\n      <span class="back-to-top-icon">\n        <i class="fas fa-chevron-up"></i>\n      </span>\n      <span class="back-to-top-text">TOP</span>\n    ',t.addEventListener("click",this.handleBackToTopClick),document.body.appendChild(t),this.backToTopElement=t}handleScroll(){this.throttleTimer||(this.throttleTimer=window.requestAnimationFrame(()=>{this.updateScrollState(),this.updateHeaderVisibility(),this.updateBackToTopVisibility(),this.throttleTimer=null}))}updateScrollState(){const t=window.scrollY,e=t-this.state.lastScrollY;e>this.options.hideThreshold/10?this.state.isScrollingDown=!0:e<-this.options.showThreshold/10&&(this.state.isScrollingDown=!1),this.state.lastScrollY=t}updateHeaderVisibility(){if(!this.headerElement)return;const t=window.scrollY,e=this.state.isScrollingDown&&t>this.options.hideThreshold;e&&!this.state.isHeaderHidden?(this.state.isHeaderHidden=!0,this.headerElement.classList.add("header-hidden"),this.headerElement.setAttribute("aria-hidden","true")):!e&&this.state.isHeaderHidden&&(this.state.isHeaderHidden=!1,this.headerElement.classList.remove("header-hidden"),this.headerElement.removeAttribute("aria-hidden")),t>50?this.headerElement.classList.add("scrolled"):this.headerElement.classList.remove("scrolled")}updateBackToTopVisibility(){if(!this.backToTopElement)return;const t=window.scrollY>this.options.backToTopThreshold;t&&!this.state.isBackToTopVisible?(this.state.isBackToTopVisible=!0,this.backToTopElement.classList.add("visible"),this.backToTopElement.removeAttribute("aria-hidden")):!t&&this.state.isBackToTopVisible&&(this.state.isBackToTopVisible=!1,this.backToTopElement.classList.remove("visible"),this.backToTopElement.setAttribute("aria-hidden","true"))}handleBackToTopClick(){window.scrollTo({top:0,behavior:"smooth"}),"undefined"!=typeof gtag&&gtag("event","back_to_top_click",{event_category:"navigation",event_label:"scroll_utility"})}destroy(){this.isInitialized&&(window.removeEventListener("scroll",this.handleScroll),this.backToTopElement&&"back-to-top"===this.backToTopElement.id&&this.backToTopElement.removeEventListener("click",this.handleBackToTopClick),this.throttleTimer&&(window.cancelAnimationFrame(this.throttleTimer),this.throttleTimer=null),this.isInitialized=!1,this.headerElement=null,this.backToTopElement=null)}updateOptions(t){this.options={...this.options,...t}}getState(){return{...this.state}}forceUpdate(){this.updateScrollState(),this.updateHeaderVisibility(),this.updateBackToTopVisibility()}}t("S",e);const i=new e;"undefined"==typeof window||window.location.pathname.includes("index-react")||setTimeout(()=>{i.init()},100)}}});
